import{W as f,j as e,a as g}from"./app-CgBWOMij.js";import{I as i}from"./InputError-DduDedTP.js";function y({permissions:a,role:n}){const r=n==null?void 0:n.permissions.map(s=>s.id),{data:d,setData:o,post:m,put:c,errors:t,reset:b}=f({name:(n==null?void 0:n.name)||"",permissions:r||[]}),l=s=>{const p=Array.from(s.target.selectedOptions).map(x=>x.value);o("permissions",p)};function u(s){s.preventDefault(),n?c(route("role.update",n.id)):m(route("role.store"))}return e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{value:d.name,onChange:s=>o("name",s.target.value),type:"text",id:"name",className:`block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${t.name?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":""}`}),e.jsx(i,{message:t.name})]}),e.jsxs("div",{className:"col-span-6 sm:col-span-3",children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["Permissions ",e.jsx("span",{className:"text-xs text-gray-400",children:"(Tahan tombol ctrl/cmd utnuk memilih lebih dari 1)"})]}),e.jsx("select",{defaultValue:r==null?void 0:r.map(s=>s.toString()),onChange:l,id:"permissions",name:"permissions",multiple:!0,className:`block w-full h-40 px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm ${t.permissions?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":""}`,children:a.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.description]},s.id))}),e.jsx(i,{message:t.permissions})]})]}),e.jsxs("div",{className:"px-4 py-3 text-right sm:px-6",children:[e.jsx(g,{href:route("role.index"),className:"inline-flex items-center px-4 py-2 mr-4 text-sm font-medium text-indigo-700 bg-indigo-100 border border-transparent rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n?"Update":"Create"})]})]})}export{y as R};
